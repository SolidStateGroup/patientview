<h1>Change Password</h1>

<p>
    Your password has been set by an administrator. To ensure security and your privacy you are required to enter your
    own password. As you type your password, check how strong it is using the bar to the right. Basically, a mix of
    capitals, small letters, numbers and symbols is best, and of course the longer the better.
</p>
<p><strong>The minimum length for a password is 7 characters.</strong></p>

<div data-ng-show="loading" class="container"><br/><br/>
    <div data-ng-show="loading" class="loading">
        <h3><img src="images/loading.gif" alt="Loading"/></h3>
    </div>
</div>

<form class="form-horizontal" data-ng-cloak id="change-password-form" ng-show="!loading">
    <div class="alert alert-success" data-ng-show="successMessage">{{successMessage}}</div>
    <div data-ng-show="successMessage">
        <a href="#/dashboard" class="btn blue">Click Here to continue on to the PatientView homepage.</a>
    </div>

    <div class="form-group" data-ng-show="!successMessage">
        <label for="currentPassword" class="col-sm-3 control-label">Current Password:</label>
        <div class="col-sm-4">
            <input id="currentPassword" data-ng-model="userdetails.currentPassword" name="currentPassword" type="password"
                class="form-control" required=""/>
        </div>
    </div>

    <div class="form-group" data-ng-show="!successMessage">
        <label for="newPassword" class="col-sm-3 control-label">New Password:</label>
        <div class="col-sm-4">
            <input id="newPassword" data-ng-model="pw" name="pw" type="password" class="form-control" required=""/>
        </div>
        <div>
            <ul id="strengthTest" check-strength="pw"></ul>
        </div>
    </div>

    <div class="form-group" data-ng-show="!successMessage">
        <label for="passwordConfirm" class="col-sm-3 control-label">Confirm Password:</label>
        <div class="col-sm-4">
            <input id="passwordConfirm" data-ng-model="userdetails.confirmPassword" name="password" type="password"
                class="form-control" required=""/>
        </div>
    </div>

    <div class="form-group" data-ng-show="!successMessage">
        <div class="col-sm-9 col-sm-offset-3">
            <button data-ng-click="savePassword()" class="btn blue" data-ng-disabled="pw.length < 7">Change Password</button>
        </div>
    </div>

    <div class="form-group" data-ng-show="passwordErrorMessage">
        <div class="col-sm-10 col-sm-offset-1 alert alert-danger">
            <p><strong>Error changing password</strong> {{passwordErrorMessage}}</p>
        </div>
    </div>
</form>
<h1 ng-controller="ContactUnitCtrl">Contact Unit</h1>
<form class="form-horizontal" ng-cloak id="account-settings-form">

    <div class="alert alert-success" ng-show="successMessage">
        <strong>Reset Password Request Submitted</strong><p>Thanks for your request. The administrator at your unit has been notified of your wish to reset your password.</p>
    </div>

    <div>
        <p>Please enter your details. You need to be a patient of a renal unit.</p>
        <p>Ensure they are accurate since they will be used by your unit's staff to verify who you are.</p>
    </div>

    <div class="form-group">
        <label for="forename" class="col-sm-3 control-label">Forename:</label>

        <div class="col-sm-4">
            <input id="forename" name=forename" type="text" class="form-control" ng-model="joinRequest.forename"
                   required=""/>
        </div>
    </div>

    <div class="form-group">
        <label for="forename" class="col-sm-3 control-label">Surname:</label>

        <div class="col-sm-4">
            <input id="surname" name=surname" type="text" class="form-control" ng-model="joinRequest.surname"
                   required=""/>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label">Date Of Birth:</label>

        <div class="col-sm-4">

            Day:<select required="required"
                        ng-model="joinRequest.selectedDay"
                        ng-options="option as option for option in days"
                        class="form-control"
                        ng-init="daySelect='1'"></select>

            Month:<select required="required"
                          ng-model="joinRequest.selectedMonth"
                          ng-options="option as option for option in months"
                          class="form-control"
                          ng-init="yearSelect='1'"></select>

            Year:<select required="required"
                         ng-model="joinRequest.selectedYear"
                         ng-options="option as option for option in years"
                         class="form-control"
                         ng-init="yearSelect='1920'">
        </select>

        </div>
    </div>

    <div class="form-group">
        <label for="nhsNumber" class="col-sm-3 control-label">NHS Number:</label>

        <div class="col-sm-4">
            <input id="nhsNumber" maxlength="10" name="nhsNumber" type="text" class="form-control" ng-model="joinRequest.nhsNumber" required=""/>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label">Specialty:</label>

        <div class="col-sm-4">

            <select required="required"
                    ng-model="joinRequest.specialty"
                    ng-change="refreshUnits()"
                    ng-options="obj.id as obj.name for obj in specialties"
                    class="form-control">
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label">Unit:</label>

        <div class="col-sm-4">

            <select required="required"
                    ng-model="joinRequest.unit"
                    ng-options="obj.id as obj.name for obj in units"
                    class="form-control">
            </select>
        </div>
    </div>

    <div class="form-group">
        <label for="email" class="col-sm-3 control-label">Email:</label>

        <div class="col-sm-4">
            <input id="email" name="email" type="text" class="form-control" ng-model="joinRequest.email" required=""/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-9 col-sm-offset-3">
            <button ng-click="submit()" class="btn blue">Submit Request</button>
        </div>
    </div>


    <div class="form-group" ng-show="errorMessage">
        <div class="col-sm-9 col-sm-offset-3 alert alert-danger">
            <p><strong>Error submitting request</strong>{{errorMessage}}</p>
        </div>
    </div>

</form>

<div ng-show="loading" class="container"><br/><br/>
    <div ng-show="loading" class="loading"><img src="images/loading.gif" alt="Loading"/></div></div>

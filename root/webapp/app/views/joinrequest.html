<h1>Join Request</h1>
<div class="content-panel user-settings">
    <div class="content-inner">
        <form class="form-horizontal" ng-cloak id="account-settings-form">

            <div class="alert alert-success" ng-show="successMessage">
                <strong>Thank you for submitting your request to join PatientView. Your selected unit will follow up shortly
                    with the enrolment forms, after which you will receive your account details.</strong>
            </div>

            <div>
                <p>Please enter your details. Ensure they are accurate since they will be used by your unit's staff to
                    verify who you are and to contact you to add you to PatientView.</p>
                <p>If your local unit has PatientView, the message will go to the local PatientView admin. If it
                    doesn't, we'll send it to someone senior at the unit. See if your unit has PatientView on the map
                    <a href="http://www.rixg.org/developer/pages/how-to/where.php" target="_blank">bit.ly/rpvsites</a></p>
            </div>

            <div class="form-group">
                <label for="forename" class="col-sm-3 control-label">Forename:</label>
                <div class="col-sm-4">
                    <input id="forename" name=forename" type="text" class="form-control" ng-model="joinRequest.forename"
                           required=""/>
                </div>
            </div>

            <div class="form-group">
                <label for="forename" class="col-sm-3 control-label">Surname:</label>
                <div class="col-sm-4">
                    <input id="surname" name=surname" type="text" class="form-control" ng-model="joinRequest.surname"
                           required=""/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Date Of Birth:</label>
                <div class="col-sm-4">

                    Day:<select required="required"
                                ng-model="joinRequest.selectedDay"
                                ng-options="option as option for option in days"
                                class="form-control"></select>

                    Month:<select required="required"
                                  ng-model="joinRequest.selectedMonth"
                                  ng-options="option as option for option in months"
                                  class="form-control"></select>

                    Year:<select required="required"
                                 ng-model="joinRequest.selectedYear"
                                 ng-options="option as option for option in years"
                                 class="form-control"></select>
                </div>
            </div>

            <div class="form-group">
                <label for="nhsNumber" class="col-sm-3 control-label">NHS Number (if known):</label>
                <div class="col-sm-4">
                    <input id="nhsNumber" maxlength="10" name="nhsNumber" type="text" class="form-control" ng-model="joinRequest.nhsNumber"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Specialty:</label>
                <div class="col-sm-4">

                    <select required="required"
                            ng-model="joinRequest.specialty"
                            ng-change="refreshUnits()"
                            ng-options="obj.id as obj.name for obj in specialties | orderBy:['name']"
                            class="form-control">
                            </select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Unit:</label>
                <div class="col-sm-4">
                    <select required="required"
                            ng-model="joinRequest.unit"
                            ng-options="obj.id as obj.name for obj in units | orderBy:['name']"
                            class="form-control">
                            </select>
                </div>
            </div>

            <div class="form-group">
                <label for="email" class="col-sm-3 control-label">Email:</label>
                <div class="col-sm-4">
                    <input id="email" name="email" type="text" class="form-control" ng-model="joinRequest.email" required=""/>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-12">
                    <button ng-click="submit()" class="btn blue"
                            ng-disabled="!joinRequest.selectedDay || !joinRequest.selectedMonth || !joinRequest.selectedYear">
                        Submit Request</button>
                </div>
            </div>


            <div class="form-group" ng-show="errorMessage">
                <div class="col-md-12 alert alert-danger">
                    <p><strong>Error submitting request</strong>{{errorMessage}}</p>
                </div>
            </div>

        </form>
    </div>
</div>

<div ng-show="loading" class="container"><br/><br/>
<div ng-show="loading" class="loading"><img src="images/loading.gif" alt="Loading"/></div></div>

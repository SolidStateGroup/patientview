
<div data-ng-show="!patientDetails.length">
    <p>We have not yet received records from any of your units.</p>
</div>

<div class="details-filter clearfix" data-ng-show="patientDetails.length">
    <div class="pull-right">Information provided by: &nbsp;&nbsp;
        <label data-ng-repeat="patient in patientDetails">
            <input type="checkbox" value="{{patient.group.name}}" data-ng-model="patient.group.selected">
            <span class="checkbox-label">{{patient.group.name}}</span>
        </label>
    </div>
</div>

<div data-ng-show="patientDetails.length">
    <div data-ng-repeat="patient in patientDetails" data-ng-show="patient.group.selected">
        <div class="panel panel-default">
            <div class="panel-heading"><h3>{{patient.group.name}}</h3></div>
            <div class="panel-body">
                <table class="table table-bordered">
                    <tbody>
                    <tr><td colspan="2"><h4>Condition Information</h4></td></tr>
                    <tr>
                        <td class="forced-width">Diagnosis</td>
                        <td>
                            <dl class="conditions-link-list unstyled" data-ng-repeat="code in patient.diagnosisCodes">
                                <dt><h5>{{code.description}}:</h5></dt>
                                <dd>
                                    <span data-ng-repeat="link in code.links">
                                        <a href="{{link.link | addhttpFilter}}" target="_blank">{{link.name}}</a><br/>
                                    </span>
                                </dd>
                            </dl>
                        </td>
                    </tr>

                    <tr>
                        <td class="forced-width">Other Conditions</td>
                        <td>
                            <ul class="unstyled">
                                <li data-ng-repeat="condition in patient.fhirConditions" data-ng-show="condition.category === 'DIAGNOSIS'">
                                    {{condition.notes}}
                                </li>
                            </ul>
                        </td>
                    </tr>

                    <tr>
                        <td class="forced-width">Treatment</td>
                        <td>
                            <span data-ng-repeat="encounter in patient.fhirEncounters" data-ng-show="encounter.encounterType === 'TREATMENT'">
                                {{encounter.status}}
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="forced-width">Transplant Status</td>
                        <td>
                            <span data-ng-repeat="encounter in patient.fhirEncounters" data-ng-show="encounter.encounterType === 'TRANSPLANT_STATUS'">
                                {{encounter.status}}
                            </span>
                        </td>
                    </tr>

                    </tbody>
                </table>

                <!-- foot checkup -->
                <table class="table table-bordered" data-ng-show="recentFootcheckup">
                    <tbody>
                    <tr><td colspan="2"><h4>Feet</h4></td></tr>
                    <tr>
                        <td colspan="2">Last recorded DATE, recorded by UNIT</td>
                    </tr>
                    <tr>
                        <td>Left</td>
                        <td>Right</td>
                    </tr>
                    <tr>
                        <td>DPPULSE: something<br/>
                            PTPULSE: something else</td>
                        <td>DPPULSE: something r<br/>
                            PTPULSE: something else r</td>
                    </tr>
                    </tbody>
                </table>

                <table class="table table-bordered" data-ng-show="patient.group.links">
                    <tbody>
                        <tr><td colspan="2"><h4>Unit Information</h4></td></tr>
                        <tr>
                            <td colspan="2">
                                <ul>
                                    <li data-ng-repeat="link in patient.group.links">
                                        <a href="{{link.link | addhttpFilter}}" target="_blank">{{link.name}}</a>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>